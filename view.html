<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Peserta Kecamatan - MTQ ke-55</title>
    <link rel="icon" type="image/png" href="asset/logomtq.png">
    <link rel="stylesheet" href="unified-styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ“Š Data Peserta Kecamatan</h1>
            <p>MTQ ke-55 Kabupaten Indramayu 2025</p>
            <div class="kecamatan-badge" id="kecamatanBadge">Loading...</div>
        </div>

    <!-- Loading State -->
    <div id="loadingState" class="card">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <p class="loading-text">Memuat data peserta...</p>
        </div>
    </div>

    <!-- Error State -->
    <div id="errorState" class="card" style="display: none;">
        <div class="error-container">
            <div class="error-icon">âš ï¸</div>
            <div class="error-title">Akses Ditolak</div>
            <div class="error-message" id="errorMessage">
                Link tidak valid atau telah kedaluwarsa.
            </div>
        </div>
    </div>

    <!-- Content State -->
    <div id="contentState" style="display: none;">
        <!-- Statistics -->
        <div class="card">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ‘¥</div>
                    <div class="stat-number" id="totalPeserta">0</div>
                    <div class="stat-label">Total Peserta</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-icon">â³</div>
                    <div class="stat-number" id="totalMenunggu">0</div>
                    <div class="stat-label">Menunggu Verifikasi</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-icon">âœ…</div>
                    <div class="stat-number" id="totalDiterima">0</div>
                    <div class="stat-label">Terverifikasi</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-icon">âŒ</div>
                    <div class="stat-number" id="totalDitolak">0</div>
                    <div class="stat-label">Ditolak</div>
                </div>
            </div>
        </div>

        <!-- Action Bar -->
        <div class="card">
            <div class="action-bar">
                <button type="button" class="btn" onclick="refreshData()">
                    ğŸ”„ Refresh Data
                </button>
                <button type="button" class="btn" onclick="exportToCSV()">
                    ğŸ“¥ Export CSV
                </button>
                <div class="search-box">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="searchInput" placeholder="Cari nama, NIK, nomor peserta, atau cabang...">
                </div>
            </div>

            <!-- Table -->
            <div class="table-wrapper">
                <table class="data-table" id="dataTable">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th style="cursor: pointer;" data-sort="nomorPeserta">
                                Nomor Peserta <span class="sort-indicator"></span>
                            </th>
                            <th style="cursor: pointer;" data-sort="nama">
                                Nama/Tim <span class="sort-indicator"></span>
                            </th>
                            <th style="cursor: pointer;" data-sort="cabang">
                                Cabang Lomba <span class="sort-indicator"></span>
                            </th>
                            <th style="cursor: pointer;" data-sort="status">
                                Status <span class="sort-indicator"></span>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                        <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>

            <div id="noResults" class="no-results">
                ğŸ” Tidak ada data yang sesuai dengan pencarian
            </div>
        </div>
    </div>
</div>
    <script type="module" src="js/view.js"></script>
</body>
</html>